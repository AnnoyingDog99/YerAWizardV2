@{
    Layout = "~/_SiteLayout.cshtml";

    string connectionString = @"Data Source=(LocalDB)\MSSQLLocalDB;AttachDbFilename=|DataDirectory|\Harry_Potter.mdf;Integrated Security=True";

    string provider = "System.Data.SqlClient";
    Database db = Database.OpenConnectionString(connectionString, provider);

    string GetTeacher;
    string Teacher;
    string GetLessonName;
    string lesson_Titel; ;
    string GetLessonInfo;
    string lesson_Info;
    string getlesson_Id;
    int lesson_id = Request.QueryString["Lesson_Id"].AsInt();
    if (!Request.QueryString["Lesson_Id"].IsEmpty() && Request.QueryString["Lesson_Id"].IsInt())
    {
        int Lesson_Id = Request.QueryString["Lesson_Id"].AsInt();
        GetTeacher = "SELECT Teacher FROM Lesson WHERE Lesson_Id = @0";
        Teacher = db.QueryValue(GetTeacher,Lesson_Id);

        //haalt de naam van de les op
        GetLessonName = "SELECT Lesson_name FROM Lesson WHERE Lesson_Id = @0";
        lesson_Titel = db.QueryValue(GetLessonName,Lesson_Id);

        //haalt het les stof op
        GetLessonInfo = "SELECT Lesson_Material FROM Lesson WHERE Lesson_Id =@0";
        lesson_Info = db.QueryValue(GetLessonInfo,Lesson_Id);
    }
    else
    {
        //haalt de teacher op
        GetTeacher = "SELECT Teacher FROM Lesson WHERE Selected_Lesson = @0";
        Teacher = db.QueryValue(GetTeacher, 1);

        //haalt de naam van de les op
        GetLessonName = "SELECT Lesson_name FROM Lesson WHERE Selected_Lesson = @0 ";
        lesson_Titel = db.QueryValue(GetLessonName, 1);

        //haalt het les stof op
        GetLessonInfo = "SELECT Lesson_Material FROM Lesson WHERE Selected_Lesson = @0 ";
        lesson_Info = db.QueryValue(GetLessonInfo, 1);

        getlesson_Id = "SELECT Lesson_Id FROM Lesson WHERE Selected_Lesson = @0";
        lesson_id = db.QueryValue(getlesson_Id, 1);

        //
    }
    //haalt alle lessen op
    string GetOtherTitels = "SELECT Lesson_name, Teacher , Lesson_Id ,Selected_Lesson  FROM Lesson WHERE Lesson_Id <> @0";
    var rows = db.Query(GetOtherTitels, 8 );
}

<div>
    <h1>@lesson_Titel | gegeven door @Teacher</h1>

    <h2>@lesson_Info</h2>
    <br />
    <form method="post" action="~/Lessons/exampage?lesson_id=@lesson_id">
        <button>quiz</button>
    </form>
   
</div>
<ul>
    @foreach (var row in rows)
    {

        if(row.Selected_Lesson == true)
        {
            <li><a href="~/Lessons/Lessons.cshtml?Lesson_Id=@row.Lesson_Id">@row.Lesson_name</a> --- @row.Teacher Is active</li>
        }
        else
        {
            <li><a href="~/Lessons/Lessons.cshtml?Lesson_Id=@row.Lesson_Id">@row.Lesson_name</a> --- @row.Teacher </li>
        }
        
    }
</ul>